{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <div>
        <h1 class="mb-0">Recent Flight Paths</h1>
        <p class="text-secondary mb-0">Latest recorded points across all aircraft.</p>
    </div>
    <a class="btn btn-outline-light" href="{{ url_for('flight_paths') }}">Refresh</a>
</div>
{% if paths %}
<div class="table-responsive">
    <table class="table table-striped table-dark align-middle">
        <thead>
            <tr>
                <th scope="col">Timestamp</th>
                <th scope="col">ICAO</th>
                <th scope="col">Callsign</th>
                <th scope="col">Latitude</th>
                <th scope="col">Longitude</th>
                <th scope="col">Altitude (ft)</th>
                <th scope="col">Speed (kt)</th>
                <th scope="col">Track (°)</th>
                <th scope="col">Session</th>
            </tr>
        </thead>
        <tbody>
            {% for item in paths %}
            <tr>
                <td>{{ item.timestamp }}</td>
                <td>{{ item.icao }}</td>
                <td>{{ (item.callsign or "&nbsp;")|safe }}</td>
                <td>{{ item.lat|format_coord }}</td>
                <td>{{ item.lon|format_coord }}</td>
                <td>{{ item.alt|default("", true) }}</td>
                <td>{{ item.velocity|default("", true) }}</td>
                <td>{{ item.track|default("", true) }}</td>
                <td>{{ item.session_id or '—' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<p class="text-secondary">No path history has been recorded yet.</p>
{% endif %}
{% endblock %}
